---
title: "Tidyverse (New)"
output: 
  learnr::tutorial:
    progressive: false
runtime: shiny_prerendered
---

```{r setup, include=FALSE}
library(tidyverse)
library(learnr)
library(gradethis)
tutorial_options(exercise.checker = gradethis::grade_learnr)
knitr::opts_chunk$set(echo = FALSE)
```

## Preparation: 
You will need to install the following packages for the following questions if you have not already. Recall, you will need to use the `install.packages()` function. If you do not remember how to do this, look at Package Installation in Chapter 1. 
Packages: `gapminder`

## summarize()

### Exercise 1
Load the `gapminder` package.
```{r question-1, exercise = TRUE}

```

```{r question-1-hint, silent = TRUE}
# Type the name of the package within the parentheses
# library(-----)
```

```{r, include = FALSE}
library(gapminder)
```

### Exercise 2

```{r, include = FALSE}
library(gapminder)
```

`glimpse()` the `gapminder` dataset.
```{r question-2, exercise = TRUE}

```

```{r question-2-hint}
# Type the name of the dataset within the parentheses.
# glimpse(-----)
```

### Exercise 3
Run the `summary()` function on the `gapminder` dataset.
```{r question-3, exercise = TRUE}

```

```{r question-3-hint}
# Type the name of the dataset within the parentheses.
# summary(-----)
```

### Exercise 4 
Use the extraction operator `$` to see the `lifeExp` variable from the `gapminder` dataset.
```{r question-4, exercise = TRUE}

```

```{r question-4-hint}
# Write the name of the column you want to explore following the $ operator. 
# Make sure you have capitalized the column properly.
# gapminder$----
```

### Exercise 5
Use `mutate()` to create `mean_lifeExp` using the `mean()` function on the `gapminder` dataset. You do not need to assign this to any variable name. Just take a look at the output when you run the code.  
```{r question-5, exercise = TRUE}

```

```{r question-5-hint}
# Fill in the spaces with the appropriate dataset and column
# mutate(.data = --------, mean_lifeExp = mean(--------))

# You can also use a pipe operator:
# -------- %>%
#   mutate(mean_lifeExp = mean(---------))
```

### Exercise 6
Use `summarize()` to calculate the `mean_lifeExp` from the `lifeExp` column. How does the output of using `summarize()` differ from using `mutate()`?
```{r question-6, exercise = TRUE}

```

```{r question-6-hint}
# Fill in the appropriate data set and column.
# summarize(.data = --------, mean_lifeExp = mean(-------))

# Or you could write:
# ------ %>%
#   summarize(mean_lifeExp = mean(lifeExp))
```

### Exercise 7
Run `mutate()` on the `lifeExp`, `pop` and `gdpPercap` columns to find the `mean()` of each of these columns.
```{r question-7, exercise = TRUE}

```

```{r question-7-hint}
# mutate(.data = gapminder, mean_lifeExp = mean(----),
#        mean_pop = mean(-----),
#        mean_gdpPercap = mean(-----))
```

### Exercise 8
`summarize()` the three columns specified in the previous question to find the `mean()` values of the variables.
```{r question-8, exercise = TRUE}

```

```{r question-8-hint}
# summarize(.data = gapminder, mean_lifeExp = mean(----),
#           mean_pop = mean(----),
#           mean_gdpPercap = mean(----))
```

### Exercise 9
Use the helper function `across()` to `summarize()` the `mean()` of all of the numeric variables in the gapminder dataset. You should use `is.numeric`.
```{r question-9, exercise = TRUE}

```

```{r question-9-hint-1}
# summarize(.data = -----, across(----(-------), -----))
```

```{r question-9-hint-2}
# summarize(.data = ------- , across(where(------), -----))
```

```{r question-9-hint-3}
# summarize(.data = -----, across(where(is.numeric), -----))
```

```{r question-9-hint-4}
# summarize(.data = -----, across(where(is.numeric), mean))
```

### Exercise 10
Suppose that you did not want to include the `year` variable with the other numeric variables. `mutate()` the year column so it is of the type `factor` and not `int`. Assign this mutated dataset to `gapminder_fct`, and use this new dataset in following code chunks instead of `gapminder`. 
```{r question-10, exercise = TRUE}

```

```{r question-10-hint-1}
# ----- <- mutate(.data = ----, year = ------(------))
```

```{r question-10-hint-2}
# ----- <- mutate(.data = ----, year = as.factor(------))
```

```{r question-10-hint-3}
# gapminder <- mutate(.data = ----, year = as.factor(-----))
```

```{r, include = FALSE}
gapminder_fct <- mutate(.data = gapminder, year = as.factor(year))
```

### Exercise 11
Now, use the `across()` function again to `summarize()` the `mean()` for all of the numeric variables. 
```{r question-11, exercise = TRUE}

```

```{r question-11-hint}
# summarize(.data = ------, across(where(-----), ----))
```

### Exercise 12
Repeat the previous exercise, but set the `.names` argument so each of the pieces of summarized output are of the form `mean_*` where the `*` is the original variable name
```{r question-12, exercise = TRUE}

```

```{r question-12-hint}
# gapminder_fct %>%
#   summarize(across(where(is.numeric), mean, .names = "------"))
```

### Exercise 13
Now, repeat exercise 12, but before using `summarize()`, `group_by()` the `continent` variable.
```{r question-13, exercise = TRUE}

```

```{r question-13-hint}
# gapminder_fct %>%
#   group_by(continent)
#   summarize(across(where(is.numeric), mean, .names = "------"))
```

```{r quiz-13}
quiz(
  question("Which continent has the highest mean_lifeExp?",
    answer("Africa"),
    answer("Americas"),
    answer("Asia"),
    answer("Europe"),
    answer("Oceania", correct = TRUE)
  )
)
```




## stringr wrangling
## Combining Data
### bind_rows()
### joins in dplyr
## Tidying Data
## Web Scraping
## JSON

